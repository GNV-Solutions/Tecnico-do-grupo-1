<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - GNV Solutions</title>
    <link rel="stylesheet" href="./style/style.css">
</head>
<body>
    <div class="dashboard">
        <main class="main-content">
          <header class="header">
            <img src="../assets/LOGO DA EMPRESA.svg" alt="">
            <div class="notification-icon"><img src="../assets/mi_notification.svg" alt=""></div>
          </header>

          <div class="cards-grid">
            <div class="card">
              <h3>Status de segurança p/Posto</h3>
              <div class="status-list">
                <div class="status-item">Posto 1</div>
                <div class="status-item danger">Posto 5 <span class="badge-danger">PERIGO</span></div>
                <div class="status-item danger">Posto 6 <span class="badge-danger">PERIGO</span></div>
              </div>
            </div>

            <div class="card situation">
              <h4 class="situation-text">Situação geral:</h4>
              <div class="situation-header">
                <span class="badge-danger large">PERIGO</span>
                <span class="percentage-large">22% Gás</span>
              </div>
              <div class="situation-details">
                <p><strong>Posto 5</strong></p>
                <p>Local: <span class="danger-text">Dispenser 3</span></p>
                <p class="danger-text">Tome medidas cautelares imediatamente.</p>
              </div>
            </div>

            <div class="card">
              <h3>Resumo</h3>
              <p>3 postos em estado crítico, sendo o Posto 5 o mais afetado.</p>
              <p>Tendência de aumento nos vazamentos nas últimas 24h.</p>
            </div>

            <div class="card incidents-card">
              <h3>Tipos de Incidentes</h3>
              <div class="incident-item">
                <span class="dot dot-red"></span>
                <span>Vazamento Crítico</span>
                <span class="incident-percent danger">~15%</span>
              </div>
              <div class="incident-item">
                <span class="dot dot-orange"></span>
                <span>Vazamento alerta</span>
                <span class="incident-percent alert">5%~15%</span>
              </div>
              <div class="incident-item">
                <span class="dot dot-green"></span>
                <span>Vazamento seguro</span>
                <span class="incident-percent safe">5%</span>
              </div>
            </div>
          </div>

          <div class="table-section">
            <div class="table-header">
              <h2>Postos</h2>
              <div class="table-actions">
                <button class="btn-filter">Filtrar ≡</button>
                <button class="btn-search"><img src="../assets/iconamoon_search-thin.svg" alt=""></button>
                <button class="btn-primary">Buscar posto</button>
              </div>
            </div>
            <table class="postos-table" id="tabela-postos">

            </table>
          </div>
        </main>
      </div>
</body>
<script>
    let tabela = document.getElementById("tabela-postos")

    let tabelaHtml = `
      <thead>
        <tr>
          <th>Nome do Posto</th>
          <th>Alertas semanais</th>
          <th>Dispenser crítico</th>
          <th>Status</th>
          <th>Acessar</th>
        </tr>
      </thead>
      <tbody>
    `

    let total = 6

    for (let i = 1; i <= total; i++) {

      let logo = ""
      let alertas = 0
      let porcentagem = 0
      let dispenser = "-"
      let status = "SEGURO"
      let classeStatus = "badge-safe"
      let classePercent = "safe"
      let setinha = "↘"
      let classeDispenser = ""

      if (i === 1) {
        logo = "../assets/131231.png"
        alertas = 2
        porcentagem = 40
        dispenser = "Dispenser 1"
        status = "PERIGO"
        classeStatus = "badge-danger"
        classePercent = "danger"
        setinha = "↗"
      }

      if (i === 2) {
        logo = "../assets/1231233.png"
        alertas = 0
        porcentagem = 40
      }

      if (i === 3) {
        logo = "../assets/321123123.png"
        alertas = 0
        porcentagem = 57
      }

      if (i === 4) {
        logo = "../assets/1312313.png"
        alertas = 0
        porcentagem = 30
      }

      if (i === 5) {
        logo = "../assets/13123133.png"
        alertas = 1
        porcentagem = 24
        dispenser = "Dispenser 2"
        status = "PERIGO"
        classeStatus = "badge-danger"
        classePercent = "danger"
        setinha = "↗"
      }

      if (i === 6) {
        logo = "../assets/1233112.png"
        alertas = 1
        porcentagem = 30
        dispenser = "Dispenser 3"
        status = "PERIGO"
        classeStatus = "badge-danger"
        classePercent = "danger"
        setinha = "↗"
      }

      if (status === "PERIGO") {
        classeDispenser = "danger-text"
      } else {
        classeDispenser = ""
      }

      tabelaHtml += `
        <tr>
          <td>
            <div class="posto-nome">
              <img class="posto-logo" src="${logo}"" </img> <br> Posto ${i}
            </div>
          </td>
          <td>
            <span class="alert-count">${alertas}</span>
            <span class="percent-badge ${classePercent}">${setinha} ${porcentagem}%</span>
          </td>
          <td class="${classeDispenser}">${dispenser}</td>
          <td><span class="${classeStatus}">${status}</span></td>
          <td><button class="btn-access">Entrar no Posto</button></td>
        </tr>
      `
    }

    tabelaHtml += "</tbody>"

    tabela.innerHTML = tabelaHtml
    </script>
</html>
