<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GNV | Calculadora</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header>
      <div class="logo-header">
        <a href=""><img src="./Logo-removebg-preview 1.svg" alt="" /></a>
      </div>
      <div class="nav-header">
        <ul>
          <li><a href="../Landing Page/public/index.html">Home</a></li>
          <li><a href="../Landing Page/public/index.html #section-sensor">Fun√ß√µes</a></li>
          <li><a href="../Landing Page/public/index.html #sensor">Sensor</a></li>
          <li>
            <a href="./Calculadora financeira do grupo.html"
              >Calculadora Financeira</a
            >
          </li>
        </ul>
      </div>
      <div class="login-header">
        <a href="../Login/login.html"><button class="login-btn">Login</button></a>
      </div>
    </header>

    <div class="main-container">
      <div class="input-container-area">
        <div class="title-area">
          <h1>Fa√ßa simula√ß√µes financeiras sobre o GNV</h1>
        </div>
        <div class="input-container">
          <div class="input-area">
            <h3>Qual o faturamento mensal do posto(R$):</h3>
            <input
              type="number"
              id="input_faturamento"
              placeholder="Insira o faturamento"
              class="ipt-calc"
            />

            <h3>Qual a margem de lucro do posto(%):</h3>
            <input
              type="number"
              id="input_lucro"
              placeholder="Insira em porcentagem"
              class="ipt-calc"
            />

            <h3>Qual foi o investimento na constru√ß√£o do posto(R$):</h3>
            <input
              type="number"
              id="input_investimento"
              placeholder="Insira o investimento"
              class="ipt-calc"
            />

            <br /><br />
            <div class="btn-container">
              <button onclick="Calcular()">Calcular preju√≠zo</button>
            </div>
          </div>
        </div>
      </div>

      <div class="response-area">
        <div class="response-container" id="response_container">
          <h1>Resultados</h1>
          <div id="div_mensagem" class="response">
            <h2>Os resultados aparecer√£o aqui! insira os dados nos campos ao lado.</h2>
          </div>
        </div>
      </div>
    </div>

  <script>
  function Calcular() {
    // Entradas
    var faturamento = Number(input_faturamento.value);
    var margemLucro = Number(input_lucro.value);
    var investimento = Number(input_investimento.value);

    // Valida√ß√µes
    if (!faturamento || faturamento <= 0) {
      div_mensagem.innerHTML =
        '<p style="color:red;">Por favor, insira um faturamento mensal v√°lido (>0).</p>';
      response_container.style.display = 'block';
      return;
    }
    if (!margemLucro && margemLucro !== 0) {
      div_mensagem.innerHTML = '<p style="color:red;">Por favor, insira a margem de lucro.</p>';
      response_container.style.display = 'block';
      return;
    }
    if (margemLucro < 0 || margemLucro > 100) {
      div_mensagem.innerHTML =
        '<p style="color:red;">A margem de lucro deve estar entre 0 e 100%.</p>';
      response_container.style.display = 'block';
      return;
    }
    if (!investimento || investimento <= 0) {
      div_mensagem.innerHTML =
        '<p style="color:red;">Por favor, insira o investimento v√°lido (>0).</p>';
      response_container.style.display = 'block';
      return;
    }

    // C√°lculos base
    var faturamentoDiario = faturamento / 30;
    var perda3dias = faturamentoDiario * 3;
    var perda7dias = faturamentoDiario * 7;

    // √Åreas
    var areaAfetada = 314.16;
    var areaPequeno = 900;
    var areaMedio = 2500;
    var areaGrande = 5000;

    // Propor√ß√µes
    var propPequeno = areaAfetada / areaPequeno;
    var propMedio = areaAfetada / areaMedio;
    var propGrande = areaAfetada / areaGrande;

    // --- PEQUENO ---
    var invPequeno = investimento * propPequeno;
    var faturPequenoIni = perda3dias * propPequeno;
    var faturPequenoFim = perda7dias * propPequeno;
    var totalPequenoIni = invPequeno + faturPequenoIni;
    var totalPequenoFim = invPequeno + faturPequenoFim;

    // --- M√âDIO ---
    var invMedio = investimento * propMedio;
    var faturMedioIni = perda3dias * propMedio;
    var faturMedioFim = perda7dias * propMedio;
    var totalMedioIni = invMedio + faturMedioIni;
    var totalMedioFim = invMedio + faturMedioFim;

    // --- GRANDE ---
    var invGrande = investimento * propGrande;
    var faturGrandeIni = perda3dias * propGrande;
    var faturGrandeFim = perda7dias * propGrande;
    var totalGrandeIni = invGrande + faturGrandeIni;
    var totalGrandeFim = invGrande + faturGrandeFim;

    // --- EXIBI√á√ÉO ---
      div_mensagem.innerHTML = `
      <h2><b>Preju√≠zo estimado</b><br>- Considerando √°rea afetada de 314 m¬≤</h2>
      <br>

      <h2><b>Posto Pequeno (900 m¬≤):</b></h2>
      <p>üí∞ <b>Preju√≠zo estrutural (investimento):</b> 
      ${invPequeno.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p>üìâ <b>Perda de faturamento (3 a 7 dias):</b> 
      ${faturPequenoIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${faturPequenoFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p><b>Total estimado:</b> 
      ${totalPequenoIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${totalPequenoFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <br>

      <h2><b>Posto M√©dio (2.500 m¬≤):</b></h2>
      <p>üí∞ <b>Preju√≠zo estrutural (investimento):</b> 
      ${invMedio.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p>üìâ <b>Perda de faturamento (3 a 7 dias):</b> 
      ${faturMedioIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${faturMedioFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p><b>Total estimado:</b> 
      ${totalMedioIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${totalMedioFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>

      
    `;

    response_container.style.display = 'block';
  }
</script>

<!--
<h2>Posto Grande (5.000 m¬≤):</h2>
      <p>üí∞ <b>Preju√≠zo estrutural (investimento):</b> 
      ${invGrande.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p>üìâ <b>Perda de faturamento (3 a 7 dias):</b> 
      ${faturGrandeIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${faturGrandeFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>
      <p><b>Total estimado:</b> 
      ${totalGrandeIni.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})} 
      a ${totalGrandeFim.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}</p>

      <h2><em>Valores estimados proporcionalmente √† √°rea afetada (314 m¬≤). Resultados reais podem variar conforme estrutura e seguro.</em></h2>
-->