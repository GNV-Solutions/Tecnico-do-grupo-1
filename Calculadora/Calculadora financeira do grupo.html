<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulador de prejuízo financeiro</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="nav-bar-area">
    <div class="logo-area">
      <img src="Logo-removebg-preview 1.svg" alt="Logo do posto" class="logo-img">
    </div>

    <div class="links-area">
      <a href="#">Início</a>
      <a href="#">Simulador</a>
      <a href="#">Contato</a>
    </div>

    <div class="login-btn">
      <button class="btn-enter">Entrar</button>
    </div>
  </header>

  <div class="main-container">
    <div class="input-container-area">
      <div class="title-area">
        <h1>Simulador de prejuízo<br/>financeiro</h1>
      </div>

      <div class="input-container">
        <div class="input-area">
          <h3>Qual o faturamento mensal do posto:</h3>
          <input type="number" id="input_faturamento" class="ipt-calc" placeholder="Insira o faturamento" />

          <h3>Qual a margem de lucro do posto em porcentagem:</h3>
          <input type="number" id="input_lucro" class="ipt-calc" placeholder="Insira em porcentagem" />

          <h3>Qual foi o investimento na construção do posto:</h3>
          <input type="number" id="input_investimento" class="ipt-calc" placeholder="Insira o investimento" />

          <h3>Qual o impacto do acidente no estabelecimento (percentual destruído):</h3>
          <select id="input_cilindro" class="ipt-calc">
            <option value="10">10%</option>
            <option value="20">20%</option>
            <option value="50">50%</option>
          </select>
        </div>

        <div class="btn-container">
          <button onclick="Calcular()" class="btn-calc">Calcular prejuízo</button>
        </div>
      </div>
    </div>

    <div class="response-area">
  
      <div id="response_container" class="response-container">
        <h1>Resultado</h1>
        <div id="div_mensagem" class="response-text">
       
        </div>
      </div>
    </div>
  </div>

  <script>
   
    var diaFechado = 0;

    function Calcular() {
      var faturamento = Number(input_faturamento.value) || 0;
      var porcentagemLucro = Number(input_lucro.value) || 0;
      var estrutura = Number(input_investimento.value) || 0;
      var cilindro = input_cilindro.value;
      var porcentagemDestruicao = 0;
      var faturamentodiario = faturamento / 30;
      var lucroDiario = (porcentagemLucro / 100) * faturamentodiario;
      var prejuizoTotal = 0;

      if (cilindro == 10) { diaFechado = 3; porcentagemDestruicao = 0.1; }
      if (cilindro == 20) { diaFechado = 7; porcentagemDestruicao = 0.2; }
      if (cilindro == 50) { diaFechado = 21; porcentagemDestruicao = 0.5; }

      var estruturaPerdida = estrutura * porcentagemDestruicao;
      var faturamentoPerdido = faturamentodiario * diaFechado;
      prejuizoTotal = estruturaPerdida + faturamentoPerdido;

      var diaRecuperacao = lucroDiario ? (prejuizoTotal / lucroDiario) : 0;

     
      response_container.classList.add('show');

      div_mensagem.innerHTML = ''
        + '<p>O prejuízo estimado em caso de acidente envolvendo um cilindro de tamanho <b>' + cilindro + '</b>, '
        + 'que tem um percentual de explosão da estrutura de <b>' + (porcentagemDestruicao * 100) + '%</b> envolve valores como:</p>'

        + '<p>A destruição e reconstrução da estrutura do posto, além da compra de dispensers e equipamentos novos, que chega a R$' + estruturaPerdida.toFixed(0) + '.</p>'

        + '<p>A perda no faturamento devido à paralisação de ' + diaFechado + ' dias no posto, na qual chega a R$' + faturamentoPerdido.toFixed(0) + '.</p>'

        + '<p><b>Total de prejuízo estimado: R$ ' + prejuizoTotal.toFixed(0) + '.</b></p>'

        + '<p>O período estimado para recuperar o prejuízo de R$' + prejuizoTotal.toFixed(1) + ' será de aproximadamente '
        + (isFinite(diaRecuperacao) ? diaRecuperacao.toFixed(1) + ' dias' : 'Não é possível calcular (margem de lucro = 0)') 
        + ', dado o lucro diário de R$' + lucroDiario.toFixed(2) + '.</p>';
    }
  </script>
</body>
</html>
